---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "bytebase_instance Resource - terraform-provider-bytebase"
subcategory: ""
description: |-
  The instance resource.
---

# bytebase_instance (Resource)

The instance resource.



<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `data_sources` (Block Set, Min: 1) The connection for the instance. You can configure read-only or admin connection account here. (see [below for nested schema](#nestedblock--data_sources))
- `engine` (String) The instance engine. Supported engines: MYSQL, POSTGRES, TIDB, SNOWFLAKE, CLICKHOUSE, MONGODB, SQLITE, REDIS, ORACLE, SPANNER, MSSQL, REDSHIFT, MARIADB, OCEANBASE, STARROCKS, DORIS, HIVE, ELASTICSEARCH, BIGQUERY, DYNAMODB, DATABRICKS, COCKROACHDB, COSMOSDB, TRINO, CASSANDRA.
- `resource_id` (String) The instance unique resource id.
- `title` (String) The instance title.

### Optional

- `activation` (Boolean) Whether assign license for this instance or not.
- `environment` (String) The environment full name for the instance in environments/{environment id} format.
- `external_link` (String) The external console URL managing this instance (e.g. AWS RDS console, your in-house DB instance console)
- `list_all_databases` (Boolean) List all databases in this instance. If false, will only list 500 databases.
- `maximum_connections` (Number) The maximum number of connections. Require instance license to enable this feature.
- `sync_databases` (Set of String) Enable sync for following databases. Default empty, means sync all schemas & databases.
- `sync_interval` (Number) How often the instance is synced in seconds. Default 0, means never sync. Require instance license to enable this feature.

### Read-Only

- `databases` (Set of String) The databases full name in the resource.
- `engine_version` (String) The engine version.
- `id` (String) The ID of this resource.
- `name` (String) The instance full name in instances/{resource id} format.

<a id="nestedblock--data_sources"></a>
### Nested Schema for `data_sources`

Required:

- `id` (String) The unique data source id in this instance.
- `type` (String) The data source type. Should be ADMIN or READ_ONLY. The READ_ONLY data source requires the instance license.

Optional:

- `additional_addresses` (Block List) Additional addresses for MongoDB replica set. Only available for MONGODB engine. (see [below for nested schema](#nestedblock--data_sources--additional_addresses))
- `authentication_database` (String) The database to authenticate against for MongoDB. Only available for MONGODB engine.
- `authentication_private_key` (String, Sensitive) PKCS#8 private key for authentication.
- `authentication_private_key_passphrase` (String, Sensitive) Passphrase for encrypted private key.
- `authentication_type` (String) Authentication type. Supported values depend on engine: COSMOSDB only supports AZURE_IAM; MSSQL supports PASSWORD, AZURE_IAM; ELASTICSEARCH supports PASSWORD, AWS_RDS_IAM; SPANNER, BIGQUERY only support GOOGLE_CLOUD_SQL_IAM; Most other engines support PASSWORD, GOOGLE_CLOUD_SQL_IAM, AWS_RDS_IAM. Default is PASSWORD.
- `aws_credential` (Block List, Max: 1) AWS IAM credential. Only valid when authentication_type is AWS_RDS_IAM. (see [below for nested schema](#nestedblock--data_sources--aws_credential))
- `azure_credential` (Block List, Max: 1) Azure IAM credential. Only valid when authentication_type is AZURE_IAM. (see [below for nested schema](#nestedblock--data_sources--azure_credential))
- `cluster` (String) CockroachDB cluster name. Only available for COCKROACHDB engine.
- `database` (String) The database for the instance, you can set this if the engine type is POSTGRES.
- `direct_connection` (Boolean) Use direct connection to MongoDB node. Only available for MONGODB engine.
- `external_secret` (Block List, Max: 1) The external secret to get the database password. Only available when authentication_type is PASSWORD. Requires instance license. Learn more: https://www.bytebase.com/docs/get-started/instance/#use-external-secret-manager (see [below for nested schema](#nestedblock--data_sources--external_secret))
- `extra_connection_parameters` (Map of String) Extra connection parameters as key-value pairs. Only available for MYSQL, MARIADB, OCEANBASE, POSTGRES, ORACLE, MSSQL, MONGODB.
- `gcp_credential` (Block List, Max: 1) GCP IAM credential (service account JSON). Only valid when authentication_type is GOOGLE_CLOUD_SQL_IAM. (see [below for nested schema](#nestedblock--data_sources--gcp_credential))
- `host` (String) Host or socket for your instance, or the account name if the instance type is Snowflake. Not required for some engines like DYNAMODB.
- `master_name` (String) Redis Sentinel master name. Only available for REDIS engine.
- `master_password` (String, Sensitive) Redis Sentinel master password. Only available for REDIS engine.
- `master_username` (String) Redis Sentinel master username. Only available for REDIS engine.
- `password` (String, Sensitive) The connection user password used by Bytebase to perform DDL and DML operations.
- `port` (String) The port for your instance. Not required for some engines like SPANNER, BIGQUERY.
- `redis_type` (String) Redis deployment type: STANDALONE, SENTINEL, CLUSTER. Only available for REDIS engine.
- `region` (String) AWS region (e.g., us-east-1). Only available when authentication_type is AWS_RDS_IAM.
- `replica_set` (String) The replica set name for MongoDB. Only available for MONGODB engine.
- `sasl_config` (Block List, Max: 1) SASL authentication configuration. Only available for HIVE engine. (see [below for nested schema](#nestedblock--data_sources--sasl_config))
- `service_name` (String) Oracle service name. Only available for ORACLE engine.
- `sid` (String) Oracle System Identifier (SID). Only available for ORACLE engine.
- `srv` (Boolean) Use DNS SRV record for MongoDB connection. Only available for MONGODB engine.
- `ssh_host` (String) SSH tunnel server hostname. Only available for MYSQL, TIDB, MARIADB, OCEANBASE, POSTGRES, REDIS with PASSWORD authentication.
- `ssh_password` (String, Sensitive) SSH tunnel password. Only available for MYSQL, TIDB, MARIADB, OCEANBASE, POSTGRES, REDIS with PASSWORD authentication.
- `ssh_port` (String) SSH tunnel server port. Only available for MYSQL, TIDB, MARIADB, OCEANBASE, POSTGRES, REDIS with PASSWORD authentication.
- `ssh_private_key` (String, Sensitive) SSH tunnel private key. Only available for MYSQL, TIDB, MARIADB, OCEANBASE, POSTGRES, REDIS with PASSWORD authentication.
- `ssh_user` (String) SSH tunnel username. Only available for MYSQL, TIDB, MARIADB, OCEANBASE, POSTGRES, REDIS with PASSWORD authentication.
- `ssl_ca` (String, Sensitive) The CA certificate. Optional, you can set this if the engine type is MYSQL, POSTGRES, TIDB or CLICKHOUSE.
- `ssl_cert` (String, Sensitive) The client certificate. Optional, you can set this if the engine type is MYSQL, POSTGRES, TIDB or CLICKHOUSE.
- `ssl_key` (String, Sensitive) The client key. Optional, you can set this if the engine type is MYSQL, POSTGRES, TIDB or CLICKHOUSE.
- `use_ssl` (Boolean) Enable SSL connection. Required to use SSL certificates.
- `username` (String) The connection user name used by Bytebase to perform DDL and DML operations.
- `verify_tls_certificate` (Boolean) Enable TLS certificate verification for SSL connections.
- `warehouse_id` (String) Databricks warehouse ID. Only available for DATABRICKS engine.

<a id="nestedblock--data_sources--additional_addresses"></a>
### Nested Schema for `data_sources.additional_addresses`

Required:

- `host` (String) The hostname of the additional address.
- `port` (String) The port of the additional address.


<a id="nestedblock--data_sources--aws_credential"></a>
### Nested Schema for `data_sources.aws_credential`

Required:

- `access_key_id` (String) AWS access key ID.
- `secret_access_key` (String, Sensitive) AWS secret access key.

Optional:

- `external_id` (String) External ID for additional security when assuming role.
- `role_arn` (String) ARN of IAM role to assume for cross-account access.
- `session_token` (String, Sensitive) AWS session token.


<a id="nestedblock--data_sources--azure_credential"></a>
### Nested Schema for `data_sources.azure_credential`

Required:

- `client_id` (String) Azure client ID.
- `client_secret` (String, Sensitive) Azure client secret.
- `tenant_id` (String) Azure tenant ID.


<a id="nestedblock--data_sources--external_secret"></a>
### Nested Schema for `data_sources.external_secret`

Optional:

- `aws_secrets_manager` (Block List, Max: 1) The AWS Secrets Manager to get the database password. Reference doc https://docs.aws.amazon.com/secretsmanager/latest/userguide/intro.html (see [below for nested schema](#nestedblock--data_sources--external_secret--aws_secrets_manager))
- `gcp_secret_manager` (Block List, Max: 1) The GCP Secret Manager to get the database password. Reference doc https://cloud.google.com/secret-manager/docs (see [below for nested schema](#nestedblock--data_sources--external_secret--gcp_secret_manager))
- `vault` (Block List, Max: 1) The Valut to get the database password. Reference doc https://developer.hashicorp.com/vault/api-docs/secret/kv/kv-v2 (see [below for nested schema](#nestedblock--data_sources--external_secret--vault))

<a id="nestedblock--data_sources--external_secret--aws_secrets_manager"></a>
### Nested Schema for `data_sources.external_secret.aws_secrets_manager`

Required:

- `password_key_name` (String) The key name for the password.
- `secret_name` (String) The secret name to store the password.


<a id="nestedblock--data_sources--external_secret--gcp_secret_manager"></a>
### Nested Schema for `data_sources.external_secret.gcp_secret_manager`

Required:

- `secret_name` (String) The secret name should be like "projects/{project-id}/secrets/{secret-id}".


<a id="nestedblock--data_sources--external_secret--vault"></a>
### Nested Schema for `data_sources.external_secret.vault`

Required:

- `engine_name` (String) The name for secret engine.
- `password_key_name` (String) The key name for the password.
- `secret_name` (String) The secret name in the engine to store the password.
- `url` (String) The Vault URL.

Optional:

- `app_role` (Block List, Max: 1) The Vault app role to get the password. (see [below for nested schema](#nestedblock--data_sources--external_secret--vault--app_role))
- `token` (String, Sensitive) The root token without TTL. Learn more: https://developer.hashicorp.com/vault/docs/commands/operator/generate-root

<a id="nestedblock--data_sources--external_secret--vault--app_role"></a>
### Nested Schema for `data_sources.external_secret.vault.app_role`

Required:

- `role_id` (String, Sensitive) The app role id.
- `secret` (String, Sensitive) The secret id for the role without ttl.
- `secret_type` (String) The secret id type, can be PLAIN (plain text for the secret) or ENVIRONMENT (envirionment name for the secret).




<a id="nestedblock--data_sources--gcp_credential"></a>
### Nested Schema for `data_sources.gcp_credential`

Required:

- `content` (String, Sensitive) GCP service account JSON content.


<a id="nestedblock--data_sources--sasl_config"></a>
### Nested Schema for `data_sources.sasl_config`

Optional:

- `kerberos` (Block List, Max: 1) Kerberos configuration. (see [below for nested schema](#nestedblock--data_sources--sasl_config--kerberos))

<a id="nestedblock--data_sources--sasl_config--kerberos"></a>
### Nested Schema for `data_sources.sasl_config.kerberos`

Required:

- `kdc_host` (String) The hostname of the Key Distribution Center (KDC).
- `keytab` (String, Sensitive) The keytab file contents for authentication (base64 encoded).
- `primary` (String) The primary component of the Kerberos principal.
- `realm` (String) The Kerberos realm.

Optional:

- `instance` (String) The instance component of the Kerberos principal.
- `kdc_port` (String) The port of the Key Distribution Center (KDC).
- `kdc_transport_protocol` (String) The transport protocol for KDC communication (tcp or udp).


